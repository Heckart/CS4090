name: backendBuild 

on: [push, pull_request]

jobs:
  Build_Test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
      with:
        fetch-depth: 0

    - name: Install dependencies 
      run: sudo apt-get install -y g++ libcpprest-dev libcpprest2.10 libmysql++-dev libmysqlcppconn-dev uuid-dev

    - name: Build backend 
      run: | 
       mkdir -p build
       cd build 
       g++ backend/src/*.cpp -o api_backend -lcpprest -lboost_system -lssl -lcrypto -lpthread -lmysqlcppconn -luuid

    - name: Verify build output
      run: |
           ls -l build/
